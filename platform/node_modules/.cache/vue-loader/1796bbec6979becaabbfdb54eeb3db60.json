{"remainingRequest":"D:\\Learning_platform-master\\platform\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Learning_platform-master\\platform\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Learning_platform-master\\platform\\src\\views\\login.vue","mtime":1750686468594},{"path":"D:\\Learning_platform-master\\platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Learning_platform-master\\platform\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\Learning_platform-master\\platform\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\Learning_platform-master\\platform\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWY29kZSBmcm9tICJ2dWUtcHV6emxlLXZjb2RlIjsKaW1wb3J0IHsgbG9naW4sIHNlbmRUZWxDb2RlLCBsb2dpbkJ5VGVsIH0gZnJvbSAiQC9hcGkvbW9kdWxlcy91c2VyIjsKaW1wb3J0IHsgZ2V0Q29va2llLCBzZXRDb29raWUsIHJlbW92ZUNvb2tpZSB9IGZyb20gIkAvbGlicy9jb29raWUiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJsb2dpbiIsCiAgZGF0YSgpIHsKICAgIHZhciBjaGVja0xlbmd0aCA9IChydWxlLCB2YWx1ZSwgY2FsbGJhY2spID0+IHsKICAgICAgaWYgKCF2YWx1ZSkgewogICAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoIueUqOaIt+WQjS/pgq7nrrEv5omL5py65Y+35LiN6IO95Li656m6IikpOwogICAgICB9CiAgICAgIGlmICh2YWx1ZS5sZW5ndGggPj0gNSkgewogICAgICAgIGNhbGxiYWNrKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLplb/luqbkuI3og73lsI/kuo41IikpOwogICAgICB9CiAgICB9OwoKICAgIC8v6YKu566x6aqM6K+BCiAgICB2YXIgdXNlckVtYWlsID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBjb25zdCBtYWlsUmVnID0gL14oW2EtekEtWjAtOV8tXSkrQChbYS16QS1aMC05Xy1dKSsoLlthLXpBLVowLTlfLV0pKy87CiAgICAgIGlmICghdmFsdWUpIHsKICAgICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCLpgq7nrrHkuI3og73kuLrnqboiKSk7CiAgICAgIH0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgaWYgKG1haWxSZWcudGVzdCh2YWx1ZSkpIHsKICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5q2j56Gu55qE6YKu566x5qC85byPIikpOwogICAgICAgIH0KICAgICAgfSwgMTAwKTsKICAgIH07CgogICAgLy/miYvmnLrpqozor4EKICAgIHZhciBjaGVja1Bob25lID0gKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgPT4gewogICAgICBjb25zdCBwaG9uZVJlZyA9IDExICYmIC9eKCgxM3wxNHwxNXwxN3wxOClbMC05XXsxfVxkezh9KSQvOwogICAgICB0aGlzLmJ0bnR4dCA9ICLojrflj5bpqozor4HnoIEiOwogICAgICB0aGlzLnRpbWUgPSAwOwogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcigi5omL5py65Y+35LiN6IO95Li656m6IikpOwogICAgICB9CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcigrdmFsdWUpKSB7CiAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIuivt+i+k+WFpeaVsOWtl+WAvCIpKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKHBob25lUmVnLnRlc3QodmFsdWUpKSB7CiAgICAgICAgICAgIHRoaXMudGltZSA9IDYwOwogICAgICAgICAgICB0aGlzLmJ0bnR4dCA9ICLojrflj5bpqozor4HnoIEiOwogICAgICAgICAgICB0aGlzLmRpc2FibGVkID0gZmFsc2U7CiAgICAgICAgICAgIGNhbGxiYWNrKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBjYWxsYmFjayhuZXcgRXJyb3IoIueUteivneWPt+eggeagvOW8j+S4jeato+ehriIpKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIDEwMCk7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIGxvZ2luRm9ybTogewogICAgICAgIHVzZXJuYW1lOiAiIiwKICAgICAgICBwYXNzd29yZDogIiIKICAgICAgfSwKICAgICAgcGhvbmVGb3JtOiB7CiAgICAgICAgdGVsOiAiIiwgLy/miYvmnLrlj7cKICAgICAgICBwaG9uZWNvZGU6ICIiIC8v5omL5py65Y+36aqM6K+B56CBCiAgICAgIH0sCiAgICAgIGxvZ2luUnVsZXM6IHsKICAgICAgICB1c2VybmFtZTogeyB2YWxpZGF0b3I6IGNoZWNrTGVuZ3RoLCB0cmlnZ2VyOiAiYmx1ciIgfSwKICAgICAgICBwYXNzd29yZDogeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWvhueggeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgIGVtYWlsOiB7IHZhbGlkYXRvcjogdXNlckVtYWlsLCB0cmlnZ2VyOiAiYmx1ciIgfQogICAgICB9LAogICAgICBwaG9uZVJ1bGVzOiB7CiAgICAgICAgdGVsOiB7IHZhbGlkYXRvcjogY2hlY2tQaG9uZSwgdHJpZ2dlcjogImJsdXIiIH0sCiAgICAgICAgcGhvbmVjb2RlOiB7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLpqozor4HnoIHkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfQogICAgICB9LAogICAgICBpc1Nob3c6IGZhbHNlLCAvLyDpqozor4HnoIHmqKHmgIHmoYbmmK/lkKblh7rnjrAKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIHBhc3N3b3JkVHlwZTogInBhc3N3b3JkIiwKICAgICAgcmVkaXJlY3Q6IHVuZGVmaW5lZCwKICAgICAgdGltZTogMCwgLy/pqozor4HnoIHml7bpl7QKICAgICAgYnRudHh0OiAi6I635Y+W6aqM6K+B56CBIiwKICAgICAgZGlzYWJsZWQ6IGZhbHNlLAogICAgICBjdXI6IDAsIC8v6buY6K6k6YCJ5Lit56ys5LiA5LiqdGFiCgogICAgICAvLyDog4zmma/lm77moLflvI8KICAgICAgYmFja2dyb3VuZFN0eWxlOiB7CiAgICAgICAgYmFja2dyb3VuZEltYWdlOiBgdXJsKCR7cmVxdWlyZSgnQC9hc3NldHMvYmFja2dyb3VuZC5wbmcnKX0pYCwKICAgICAgICB3aWR0aDogIjEwMCUiLAogICAgICAgIHBvc2l0aW9uOiAiZml4ZWQiLAogICAgICAgIGhlaWdodDogIjEwMCUiLAogICAgICAgIHRvcDogIjkwcHgiLAogICAgICAgIGxlZnQ6ICIwcHgiLAogICAgICAgIGJhY2tncm91bmRTaXplOiAiY292ZXIiLAogICAgICAgIGJhY2tncm91bmRSZXBlYXQ6ICJuby1yZXBlYXQiCiAgICAgIH0KICAgIH07CiAgfSwKCiAgY29tcG9uZW50czogewogICAgVmNvZGUKICB9LAoKICBtZXRob2RzOiB7CiAgICBnbzJyZWdpc3RlcigpIHsKICAgICAgdGhpcy5uYXZpZ2F0b3IoIi9yZWdpc3RlciIpOwogICAgfSwKICAgIGdvMnJlY292ZXJ5KCkgewogICAgICB0aGlzLm5hdmlnYXRvcigiL3JlY292ZXJ5Iik7CiAgICB9LAogICAgaGFuZGxlTG9naW4oKSB7CiAgICAgIHRoaXMuJHJlZnMubG9naW5Gb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgICB0aGlzLmlzU2hvdyA9IHRydWU7IC8v5pi+56S66aqM6K+B56CB5qih5oCB5qGGCiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzdWNjZXNzKG1zZykgewogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgbG9naW4odGhpcy5sb2dpbkZvcm0pCiAgICAgICAgICAudGhlbihyZXNwID0+IHsKICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5zdGF0dXNDb2RlID09PSAiMjAwIikgewogICAgICAgICAgICAgIGxldCB1c2VyID0gcmVzcC5kYXRhLmRhdGEudXNlcjsKICAgICAgICAgICAgICBzZXRDb29raWUoInVzZXIiLCB1c2VyKTsKICAgICAgICAgICAgICB0aGlzLnRvYXN0KHJlc3AuZGF0YS5tZXNzYWdlLCAxKTsKICAgICAgICAgICAgICB0aGlzLm5hdmlnYXRvcigiL0hvbWUiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkKICAgICAgICAgIC5jYXRjaChkYXRhID0+IHsKICAgICAgICAgICAgdGhpcy50b2FzdChkYXRhLCAyKTsKICAgICAgICAgIH0pOwogICAgfSwKICAgIGNsb3NlKCkgewogICAgICB0aGlzLmlzU2hvdyA9IGZhbHNlOwogICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBnZXRUZWxDb2RlKCkgewogICAgICB0aGlzLiRyZWZzLnBob25lRm9ybS52YWxpZGF0ZUZpZWxkKCJ0ZWwiLCBlcnIgPT4gewogICAgICAgIGlmICghZXJyKSB7CiAgICAgICAgICB0aGlzLnRpbWUgPSA2MDsKICAgICAgICAgIHRoaXMudGltZXIoKTsKICAgICAgICAgIHNlbmRUZWxDb2RlKHt0ZWw6IHRoaXMucGhvbmVGb3JtLnRlbH0pCiAgICAgICAgICAgICAgLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgICAgICAgICBpZiAocmVzcC5kYXRhLnN0YXR1c0NvZGUgPT09ICIyMDAiKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMudG9hc3QocmVzcC5kYXRhLm1lc3NhZ2UsIDEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgLmNhdGNoKGRhdGEgPT4gewogICAgICAgICAgICAgICAgdGhpcy50b2FzdChkYXRhLCAyKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgdGltZXIoKSB7CiAgICAgIGlmICh0aGlzLnRpbWUgPiAwKSB7CiAgICAgICAgdGhpcy50aW1lLS07CiAgICAgICAgdGhpcy5idG50eHQgPSB0aGlzLnRpbWUgKyAic+WQjumHjeaWsOiOt+WPliI7CiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRydWU7CiAgICAgICAgc2V0VGltZW91dCh0aGlzLnRpbWVyLCAxMDAwKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRpbWUgPSAwOwogICAgICAgIHRoaXMuYnRudHh0ID0gIuiOt+WPlumqjOivgeeggSI7CiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZmFzdExvZ2luKCkgewogICAgICB0aGlzLiRyZWZzLnBob25lRm9ybS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBsb2dpbkJ5VGVsKHsKICAgICAgICAgICAgdGVsOiB0aGlzLnBob25lRm9ybS50ZWwsCiAgICAgICAgICAgIGlucHV0Q29kZTogdGhpcy5waG9uZUZvcm0ucGhvbmVjb2RlCiAgICAgICAgICB9KQogICAgICAgICAgICAgIC50aGVuKHJlc3AgPT4gewogICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5zdGF0dXNDb2RlID09PSAiMjAwIikgewogICAgICAgICAgICAgICAgICBsZXQgdXNlciA9IHJlc3AuZGF0YS5kYXRhLnVzZXI7CiAgICAgICAgICAgICAgICAgIHNldENvb2tpZSgidXNlciIsIHVzZXIpOwogICAgICAgICAgICAgICAgICB0aGlzLnRvYXN0KHJlc3AuZGF0YS5tZXNzYWdlLCAxKTsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3AuZGF0YS5kYXRhLmlzTmV3ID09ICIxIikgewogICAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHBhdGg6ICIvaW5mb1JlZmluZSIsCiAgICAgICAgICAgICAgICAgICAgICBxdWVyeToge3RlbDogdGhpcy5waG9uZUZvcm0udGVsfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRoaXMubmF2aWdhdG9yKCIvSG9tZSIpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICB0aGlzLnRvYXN0KHJlc3AuZGF0YS5tZXNzYWdlLCAyKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgIC5jYXRjaChkYXRhID0+IHsKICAgICAgICAgICAgICAgIHRoaXMudG9hc3QoZGF0YSwgMik7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"login.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div\n        style=\"background-color: #f7f7f7; display: flex; justify-content: center; align-items: center; height: 90px;\"\n    >\n      <span class=\"til\">大连理工大学在线教育平台</span>\n    </div>\n\n\n\n\n    <div\n        :style=\"backgroundStyle\"\n    ></div>\n\n    <div class=\"myLoginUI\">\n      <el-card class=\"box-card\">\n        <div class=\"login_header\">\n          <span @click=\"cur=0\" :class=\"{active:cur==0}\">账号登录</span>\n          <el-divider direction=\"vertical\"></el-divider>\n          <span @click=\"cur=1\" :class=\"{active:cur==1}\">快捷登录</span>\n        </div>\n        <div v-show=\"cur==0\">\n          <h1 class=\"h1\">账号登录</h1>\n          <el-form\n              ref=\"loginForm\"\n              :model=\"loginForm\"\n              :rules=\"loginRules\"\n              class=\"login-form\"\n              autocomplete=\"on\"\n              label-position=\"left\"\n          >\n            <el-form-item class=\"login-form-item\" prop=\"username\">\n              <el-input\n                  ref=\"username\"\n                  v-model=\"loginForm.username\"\n                  placeholder=\"用户名/邮箱/手机号\"\n                  name=\"username\"\n                  type=\"text\"\n                  tabindex=\"1\"\n                  autocomplete=\"on\"\n                  prefix-icon=\"el-icon-user\"\n              />\n            </el-form-item>\n\n            <el-form-item class=\"login-form-item\" prop=\"password\">\n              <el-input\n                  :key=\"passwordType\"\n                  ref=\"password\"\n                  v-model=\"loginForm.password\"\n                  :type=\"passwordType\"\n                  placeholder=\"请输入密码\"\n                  name=\"password\"\n                  tabindex=\"2\"\n                  autocomplete=\"on\"\n                  prefix-icon=\"el-icon-lock\"\n                  @keyup.enter.native=\"handleLogin\"\n              />\n            </el-form-item>\n\n            <el-button\n                :loading=\"loading\"\n                type=\"primary\"\n                style=\"width:100%;margin-bottom:20px;\"\n                @click.native.prevent=\"handleLogin\"\n            >登录</el-button>\n          </el-form>\n        </div>\n\n        <div v-show=\"cur==1\" class=\"Cbody_item\">\n          <h1 class=\"h1\">快捷登录</h1>\n          <el-form\n              ref=\"phoneForm\"\n              :model=\"phoneForm\"\n              :rules=\"phoneRules\"\n              class=\"login-form\"\n              autocomplete=\"on\"\n              label-position=\"left\"\n          >\n            <!-- 手机部分 -->\n            <el-form-item class=\"login-form-item\" prop=\"tel\">\n              <el-input\n                  ref=\"tel\"\n                  v-model=\"phoneForm.tel\"\n                  placeholder=\"手机号\"\n                  name=\"tel\"\n                  type=\"text\"\n                  tabindex=\"1\"\n                  autocomplete=\"on\"\n                  prefix-icon=\"el-icon-mobile-phone\"\n              />\n            </el-form-item>\n\n            <el-form-item class=\"login-form-item\" prop=\"phonecode\">\n              <el-input\n                  placeholder=\"请输入短信验证码\"\n                  style=\"width:60%; float: left\"\n                  ref=\"phonecode\"\n                  v-model=\"phoneForm.phonecode\"\n                  name=\"phonecode\"\n                  type=\"text\"\n                  tabindex=\"1\"\n                  autocomplete=\"on\"\n                  prefix-icon=\"el-icon-chat-dot-square\"\n              />\n              <el-button\n                  type=\"primary\"\n                  plain\n                  @click=\"getTelCode\"\n                  :disabled=\"disabled\"\n                  style=\"float: right\"\n              >{{btntxt}}</el-button>\n            </el-form-item>\n\n            <el-button\n                :loading=\"loading\"\n                type=\"primary\"\n                style=\"width:100%;margin-bottom:20px;\"\n                @click.native.prevent=\"fastLogin\"\n            >登录</el-button>\n          </el-form>\n        </div>\n        <span class=\"no_account\" @click=\"go2register\">没有账号？</span>\n        <span class=\"forget_password\" @click=\"go2recovery\">忘记密码？</span>\n\n        <Vcode :show=\"isShow\" @success=\"success\" @close=\"close\" />\n      </el-card>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Vcode from \"vue-puzzle-vcode\";\nimport { login, sendTelCode, loginByTel } from \"@/api/modules/user\";\nimport { getCookie, setCookie, removeCookie } from \"@/libs/cookie\";\n\nexport default {\n  name: \"login\",\n  data() {\n    var checkLength = (rule, value, callback) => {\n      if (!value) {\n        return callback(new Error(\"用户名/邮箱/手机号不能为空\"));\n      }\n      if (value.length >= 5) {\n        callback();\n      } else {\n        callback(new Error(\"长度不能小于5\"));\n      }\n    };\n\n    //邮箱验证\n    var userEmail = (rule, value, callback) => {\n      const mailReg = /^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;\n      if (!value) {\n        return callback(new Error(\"邮箱不能为空\"));\n      }\n      setTimeout(() => {\n        if (mailReg.test(value)) {\n          callback();\n        } else {\n          callback(new Error(\"请输入正确的邮箱格式\"));\n        }\n      }, 100);\n    };\n\n    //手机验证\n    var checkPhone = (rule, value, callback) => {\n      const phoneReg = 11 && /^((13|14|15|17|18)[0-9]{1}\\d{8})$/;\n      this.btntxt = \"获取验证码\";\n      this.time = 0;\n      if (!value) {\n        return callback(new Error(\"手机号不能为空\"));\n      }\n      setTimeout(() => {\n        if (!Number.isInteger(+value)) {\n          callback(new Error(\"请输入数字值\"));\n        } else {\n          if (phoneReg.test(value)) {\n            this.time = 60;\n            this.btntxt = \"获取验证码\";\n            this.disabled = false;\n            callback();\n          } else {\n            callback(new Error(\"电话号码格式不正确\"));\n          }\n        }\n      }, 100);\n    };\n\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\"\n      },\n      phoneForm: {\n        tel: \"\", //手机号\n        phonecode: \"\" //手机号验证码\n      },\n      loginRules: {\n        username: { validator: checkLength, trigger: \"blur\" },\n        password: { required: true, message: \"密码不能为空\", trigger: \"blur\" },\n        email: { validator: userEmail, trigger: \"blur\" }\n      },\n      phoneRules: {\n        tel: { validator: checkPhone, trigger: \"blur\" },\n        phonecode: {\n          required: true,\n          message: \"验证码不能为空\",\n          trigger: \"blur\"\n        }\n      },\n      isShow: false, // 验证码模态框是否出现\n      loading: false,\n      passwordType: \"password\",\n      redirect: undefined,\n      time: 0, //验证码时间\n      btntxt: \"获取验证码\",\n      disabled: false,\n      cur: 0, //默认选中第一个tab\n\n      // 背景图样式\n      backgroundStyle: {\n        backgroundImage: `url(${require('@/assets/background.png')})`,\n        width: \"100%\",\n        position: \"fixed\",\n        height: \"100%\",\n        top: \"90px\",\n        left: \"0px\",\n        backgroundSize: \"cover\",\n        backgroundRepeat: \"no-repeat\"\n      }\n    };\n  },\n\n  components: {\n    Vcode\n  },\n\n  methods: {\n    go2register() {\n      this.navigator(\"/register\");\n    },\n    go2recovery() {\n      this.navigator(\"/recovery\");\n    },\n    handleLogin() {\n      this.$refs.loginForm.validate(valid => {\n        if (valid) {\n          this.loading = true;\n          this.isShow = true; //显示验证码模态框\n        }\n      });\n    },\n    success(msg) {\n      this.isShow = false;\n      this.loading = false;\n      login(this.loginForm)\n          .then(resp => {\n            if (resp.data.statusCode === \"200\") {\n              let user = resp.data.data.user;\n              setCookie(\"user\", user);\n              this.toast(resp.data.message, 1);\n              this.navigator(\"/Home\");\n            }\n          })\n          .catch(data => {\n            this.toast(data, 2);\n          });\n    },\n    close() {\n      this.isShow = false;\n      this.loading = false;\n    },\n    getTelCode() {\n      this.$refs.phoneForm.validateField(\"tel\", err => {\n        if (!err) {\n          this.time = 60;\n          this.timer();\n          sendTelCode({tel: this.phoneForm.tel})\n              .then(resp => {\n                if (resp.data.statusCode === \"200\") {\n                  this.toast(resp.data.message, 1);\n                }\n              })\n              .catch(data => {\n                this.toast(data, 2);\n              });\n        } else {\n          this.disabled = false;\n        }\n      });\n    },\n    timer() {\n      if (this.time > 0) {\n        this.time--;\n        this.btntxt = this.time + \"s后重新获取\";\n        this.disabled = true;\n        setTimeout(this.timer, 1000);\n      } else {\n        this.time = 0;\n        this.btntxt = \"获取验证码\";\n        this.disabled = false;\n      }\n    },\n    fastLogin() {\n      this.$refs.phoneForm.validate(valid => {\n        if (valid) {\n          loginByTel({\n            tel: this.phoneForm.tel,\n            inputCode: this.phoneForm.phonecode\n          })\n              .then(resp => {\n                if (resp.data.statusCode === \"200\") {\n                  let user = resp.data.data.user;\n                  setCookie(\"user\", user);\n                  this.toast(resp.data.message, 1);\n                  if (resp.data.data.isNew == \"1\") {\n                    this.$router.push({\n                      path: \"/infoRefine\",\n                      query: {tel: this.phoneForm.tel}\n                    });\n                  } else {\n                    this.navigator(\"/Home\");\n                  }\n                } else {\n                  this.toast(resp.data.message, 2);\n                }\n              })\n              .catch(data => {\n                this.toast(data, 2);\n              });\n        }\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n.item-a {\n  grid-area: header;\n}\n\n.item-b {\n  grid-area: main;\n}\n\n.item-c {\n  grid-area: sidebar;\n}\n\n.item-d {\n  grid-area: footer;\n}\n\n.container {\n  grid-template-columns: 50px 50px 50px 50px;\n  grid-template-rows: auto;\n  grid-template-areas:\n    \"header header header header\"\n    \"main main . sidebar\"\n    \"footer footer footer footer\";\n}\n\n.til {\n\n  color: #2d73cc;\n  font-weight: bolder;\n  font-size: 60px;\n}\n\n.login_header span {\n  cursor: pointer;\n}\n\n.active {\n  color: #298adb;\n}\n\n.no_account {\n  cursor: pointer;\n  color: #298adb;\n  float: left;\n  padding-bottom: 30px;\n  font-size: 16px;\n}\n\n.forget_password {\n  cursor: pointer;\n  color: #298adb;\n  float: right;\n  padding-bottom: 30px;\n  font-size: 16px;\n}\n\n.background {\n  width: 100%;\n  height: 100%;\n  background: url(\"../assets/background.png\");\n}\n\n.box-card {\n  margin: 0 auto;\n  width: 480px;\n  border: solid 1px white;\n  border-radius: 20px;\n  background-color: rgba($color: white, $alpha: 0.1);\n}\n\n.myLoginUI {\n  position: absolute;\n  top: 55%;\n  left: 50%;\n  margin: -280px 0 0 -240px;\n  width: 480px;\n}\n\n.box-card:hover {\n  background-color: rgba($color: white, $alpha: 0.6);\n  transition: all 1s;\n}\n</style>\n"]}]}